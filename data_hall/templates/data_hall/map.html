{% extends 'data_hall/base.html' %}
{% load static %}

{% block title %}产业地图 - 中国新势力企业态势感知系统{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'data_hall/css/map.css' %}">
{% endblock %}

{% block content %}
<!-- 主体内容 -->

  <!-- 标题 -->
  <section class="container mx-auto px-6 mb-8">
    <h1 class="text-3xl font-bold mb-4">产业地图 - 杭州市示例</h1>
    <p class="text-gray-300 max-w-4xl">
      通过地图与多维度图表展示杭州市 13 个区县产业分布情况，<br />
      包括时间维度的企业数量变化、专利数量、融资规模、企业类型分布、以及区域对比等。
    </p>
  </section>

  <!-- 地图 + 图表布局 -->
  <section class="container mx-auto px-6">
    <!-- 两列布局：左侧地图，右侧图表 -->
    <div class="grid gap-6 xl:grid-cols-[600px_minmax(0,1fr)]">
      <!-- 左侧地图容器 -->
      <div class="bg-[#132144] p-6 rounded-xl glow-effect">
        <h2 class="text-lg font-bold mb-4">杭州市地图</h2>
        <div id="map-container" style="width: 100%; height: 600px;">
          <canvas id="map"></canvas>
          

        </div>
      </div>

      <!-- 右侧图表容器：可分多行多列 -->
      <div class="grid grid-cols-2 gap-4">
        <!-- 分布柱状图（按时间） -->
        <div class="bg-[#132144] p-4 rounded-xl glow-effect">
          <h3 class="mb-2 text-lg font-bold">企业分布趋势</h3>
          <div id="distributionChart" style="width: 100%; height: 200px;"></div>
        </div>

        <!-- 专利数量（按时间） -->
        <div class="bg-[#132144] p-4 rounded-xl glow-effect">
          <h3 class="mb-2 text-lg font-bold">专利数量趋势</h3>
          <div id="patentChart" style="width: 100%; height: 200px;"></div>
        </div>

        <!-- 融资数量（按时间） -->
        <div class="bg-[#132144] p-4 rounded-xl glow-effect">
          <h3 class="mb-2 text-lg font-bold">融资规模趋势</h3>
          <div id="financingChart" style="width: 100%; height: 200px;"></div>
        </div>

        <!-- 企业类型分布（上市、独角兽、小巨人等） -->
        <div class="bg-[#132144] p-4 rounded-xl glow-effect">
          <h3 class="mb-2 text-lg font-bold">企业类型分布</h3>
          <div id="enterpriseTypeChart" style="width: 100%; height: 200px;"></div>
        </div>

        <!-- 区域分布（杭州市13个区县） -->
        <div class="bg-[#132144] p-4 rounded-xl glow-effect col-span-2">
          <h3 class="mb-2 text-lg font-bold">各区县企业数量对比</h3>
          <div id="regionChart" style="width: 100%; height: 200px;"></div>
        </div>
      </div>
    </div>
  </section>
{% endblock %}

{% block extra_js %}
<script src="{% static 'data_hall/js/company_markers.js' %}"></script>
<script src="{% static 'data_hall/js/map.js' %}"></script>
{% endblock %} 